# å¿«é€Ÿä¿®å¤ï¼šçœŸæœºè¿æ¥é”™è¯¯

## ğŸš¨ å½“å‰é—®é¢˜

çœ‹åˆ°é”™è¯¯ï¼š`Unable to load script. Make sure you're either running Metro...`

## âœ… å®Œæ•´è§£å†³æ­¥éª¤ï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰

### æ­¥éª¤ 1: æˆæƒçœŸæœº USB è°ƒè¯•

**åœ¨æ‰‹æœºä¸Šæ“ä½œï¼š**
1. ç¡®ä¿ USB è°ƒè¯•å·²å¼€å¯
2. è¿æ¥ USB åï¼Œæ‰‹æœºä¼šå¼¹å‡ºæˆæƒæç¤º
3. **å‹¾é€‰"å§‹ç»ˆå…è®¸è¿™å°è®¡ç®—æœº"**
4. ç‚¹å‡»"ç¡®å®š"æˆ–"å…è®¸"

**éªŒè¯æ˜¯å¦æˆæƒæˆåŠŸï¼š**
```bash
adb devices
```
åº”è¯¥çœ‹åˆ°ä½ çš„è®¾å¤‡æ˜¾ç¤º `device` è€Œä¸æ˜¯ `unauthorized`

### æ­¥éª¤ 2: åœæ­¢æ‰€æœ‰æœåŠ¡å¹¶é‡æ–°å¯åŠ¨

```bash
# åœæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹
pkill -f "react-native" || true
pkill -f "metro" || true
pkill -f "node.*start" || true
```

### æ­¥éª¤ 3: è®¾ç½®ç«¯å£è½¬å‘

```bash
# ä¸ºçœŸæœºè®¾ç½®ç«¯å£è½¬å‘
yarn setup:android
```

**å¦‚æœçœ‹åˆ° "No Android devices found"ï¼š**
- æ£€æŸ¥ USB è¿æ¥
- æ£€æŸ¥ USB è°ƒè¯•æ˜¯å¦å¼€å¯
- é‡æ–°æˆæƒï¼ˆæ­¥éª¤ 1ï¼‰

### æ­¥éª¤ 4: å¯åŠ¨ Metro Bundler

```bash
# æ¸…é™¤ç¼“å­˜å¹¶å¯åŠ¨
yarn start:reset
```

**ä¿æŒè¿™ä¸ªç»ˆç«¯çª—å£æ‰“å¼€ï¼** Metro bundler éœ€è¦ä¸€ç›´è¿è¡Œã€‚

### æ­¥éª¤ 5: é‡æ–°åŠ è½½åº”ç”¨

**åœ¨æ‰‹æœºä¸Šï¼š**
1. æ‘‡ä¸€æ‘‡è®¾å¤‡ï¼ˆæˆ–æŒ‰ Cmd+M / Ctrl+Mï¼‰
2. ç‚¹å‡» "Reload" æˆ–æŒ‰ R é”®

**æˆ–è€…é‡æ–°è¿è¡Œåº”ç”¨ï¼š**
```bash
# åœ¨æ–°çš„ç»ˆç«¯çª—å£è¿è¡Œ
yarn android
```

## ğŸ” å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œå°è¯•è¿™äº›ï¼š

### æ–¹æ³• A: å®Œå…¨é‡å¯æµç¨‹

```bash
# 1. åœæ­¢æ‰€æœ‰æœåŠ¡
pkill -f "react-native"
pkill -f "metro"
pkill -f "node"

# 2. é‡å¯ ADB
adb kill-server
adb start-server

# 3. æ£€æŸ¥è®¾å¤‡ï¼ˆç¡®ä¿æ˜¾ç¤º device è€Œä¸æ˜¯ unauthorizedï¼‰
adb devices

# 4. è®¾ç½®ç«¯å£è½¬å‘
yarn setup:android

# 5. å¯åŠ¨ Metroï¼ˆæ–°ç»ˆç«¯ï¼‰
yarn start:reset

# 6. è¿è¡Œåº”ç”¨ï¼ˆå¦ä¸€ä¸ªæ–°ç»ˆç«¯ï¼‰
yarn android
```

### æ–¹æ³• B: æ£€æŸ¥ç½‘ç»œè¿æ¥

**Android çœŸæœºï¼š**
```bash
# æ£€æŸ¥ç«¯å£è½¬å‘
adb reverse --list
# åº”è¯¥çœ‹åˆ°: tcp:8081 tcp:8081

# å¦‚æœæ²¡æœ‰ï¼Œé‡æ–°è®¾ç½®
adb reverse tcp:8081 tcp:8081
```

**iOS çœŸæœºï¼š**
- ç¡®ä¿è®¾å¤‡å’Œç”µè„‘åœ¨åŒä¸€ WiFi ç½‘ç»œ
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### æ–¹æ³• C: æ¸…é™¤åº”ç”¨æ•°æ®

**åœ¨æ‰‹æœºä¸Šï¼š**
1. è®¾ç½® â†’ åº”ç”¨ â†’ PocketPal
2. æ¸…é™¤æ•°æ® / å­˜å‚¨
3. é‡æ–°è¿è¡Œåº”ç”¨

## ğŸ“± å¸¸è§é—®é¢˜æ’æŸ¥

### Q: è®¾å¤‡æ˜¾ç¤º `unauthorized`ï¼Ÿ
**A:** 
1. æ–­å¼€ USB è¿æ¥
2. åœ¨æ‰‹æœºä¸Šæ’¤é”€ USB è°ƒè¯•æˆæƒ
3. é‡æ–°è¿æ¥ USB
4. åœ¨æ‰‹æœºä¸Šé‡æ–°æˆæƒ

### Q: ç«¯å£è½¬å‘è®¾ç½®å¤±è´¥ï¼Ÿ
**A:**
```bash
# é‡å¯ ADB
adb kill-server
adb start-server

# é‡æ–°è®¾ç½®
yarn setup:android
```

### Q: Metro bundler æ— æ³•è¿æ¥ï¼Ÿ
**A:**
```bash
# æ£€æŸ¥ Metro æ˜¯å¦åœ¨è¿è¡Œ
lsof -i :8081

# å¦‚æœç«¯å£è¢«å ç”¨ï¼Œæ€æ‰è¿›ç¨‹
kill -9 $(lsof -t -i:8081)

# é‡æ–°å¯åŠ¨
yarn start:reset
```

### Q: åº”ç”¨ä¸€ç›´æ˜¾ç¤ºåŠ è½½ä¸­ï¼Ÿ
**A:**
1. æ£€æŸ¥ Metro bundler ç»ˆç«¯æ˜¯å¦æœ‰é”™è¯¯
2. æ‘‡ä¸€æ‘‡è®¾å¤‡ï¼ŒæŒ‰ R é‡è½½
3. æˆ–è€…å®Œå…¨é‡å¯ï¼š`yarn android`

## ğŸ¯ ä¸€é”®ä¿®å¤è„šæœ¬

å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œï¼Œè¿è¡Œè¿™ä¸ªå®Œæ•´é‡ç½®ï¼š

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
pkill -f "react-native" || true
pkill -f "metro" || true
pkill -f "node.*start" || true

# é‡å¯ ADB
adb kill-server
adb start-server

# ç­‰å¾…è®¾å¤‡è¿æ¥
sleep 2

# è®¾ç½®ç«¯å£è½¬å‘
yarn setup:android

# å¯åŠ¨ Metroï¼ˆéœ€è¦æ‰‹åŠ¨åœ¨æ–°ç»ˆç«¯è¿è¡Œï¼‰
echo "ç°åœ¨è¯·åœ¨æ–°ç»ˆç«¯è¿è¡Œ: yarn start:reset"
echo "ç„¶ååœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ: yarn android"
```

## âœ… éªŒè¯æ­¥éª¤

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼ŒéªŒè¯ï¼š

1. **è®¾å¤‡å·²æˆæƒï¼š**
   ```bash
   adb devices
   # åº”è¯¥çœ‹åˆ°: MQS0219415000951    device
   ```

2. **ç«¯å£è½¬å‘å·²è®¾ç½®ï¼š**
   ```bash
   adb reverse --list
   # åº”è¯¥çœ‹åˆ°: tcp:8081 tcp:8081
   ```

3. **Metro æ­£åœ¨è¿è¡Œï¼š**
   ```bash
   lsof -i :8081
   # åº”è¯¥çœ‹åˆ° node è¿›ç¨‹åœ¨ç›‘å¬ 8081 ç«¯å£
   ```

4. **åº”ç”¨å¯ä»¥è¿æ¥ï¼š**
   - åœ¨æ‰‹æœºä¸Šæ‘‡ä¸€æ‘‡ï¼ŒæŒ‰ R
   - åº”è¯¥èƒ½æ­£å¸¸åŠ è½½

## ğŸ†˜ è¿˜æ˜¯ä¸è¡Œï¼Ÿ

å¦‚æœä»¥ä¸Šæ‰€æœ‰æ–¹æ³•éƒ½ä¸è¡Œï¼Œè¯·æä¾›ï¼š
1. `adb devices` çš„è¾“å‡º
2. `adb reverse --list` çš„è¾“å‡º
3. Metro bundler ç»ˆç«¯çš„é”™è¯¯ä¿¡æ¯
4. æ‰‹æœºä¸Šçš„å…·ä½“é”™è¯¯ä¿¡æ¯

